<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Joueur 1 – Puzzle</title>
  <!-- Script JS corrigé -->
  <script src="/static/js/joueur1.js" defer></script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 p-6">

  <!-- Section Puzzle -->
  <section id="puzzleSection" class="text-center">
    <h2 class="text-2xl font-semibold mb-4">Reconstitue l'image</h2>
    <div id="puzzleGrid" class="grid gap-2 justify-center mx-auto border rounded-lg bg-white shadow-lg p-4"
         style="width: max-content;">
    </div>
    <button id="validatePuzzleBtn" class="mt-6 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
      Valider le puzzle
    </button>
    <p id="puzzleStatus" class="mt-3 text-gray-700"></p>
  </section>

  <!-- Section Data cachée -->
  <section id="dataSection" class="hidden mt-12 text-center">
    <h2 class="text-xl font-semibold">Données & Validation</h2>
    <div id="timer" class="text-2xl font-bold mt-2">30:00</div>
    <div class="w-full bg-gray-300 h-2 rounded my-2">
      <div id="progressBar" class="bg-green-500 h-2 rounded" style="width: 0%;"></div>
    </div>
    <p id="csvStatus" class="my-4 text-gray-600">Chargement...</p>
    <div id="csvContainer" class="overflow-x-auto bg-white rounded shadow p-4"></div>
    <button id="validateTableBtn" class="mt-6 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
      Valider les scores
    </button>
    <div id="pipelineInfo" class="hidden mt-4">
      <p>Pipeline détecté : <span id="pipelineCode" class="font-semibold"></span></p>
      <p>Code secret : <span id="secretCode" class="font-semibold"></span></p>
    </div>
    <p id="finalResult" class="mt-4 text-lg"></p>
  </section>

  <!-- Popup alerte -->
  <div id="alertPopup" class="fixed inset-0 bg-black bg-opacity-40 hidden items-center justify-center z-50">
    <div class="bg-white rounded-lg shadow-lg p-6 max-w-md text-center">
      <p id="alertMessage" class="text-gray-800"></p>
      <button id="closeAlert" class="mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
        OK
      </button>
    </div>
  </div>
</body>
</html>
